<!doctype html><html lang=en><meta charset=utf-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1,shrink-to-fit=no" name=viewport><link href=https://use.fontawesome.com/releases/v5.8.1/css/all.css rel=stylesheet crossorigin=anonymous integrity=sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf><link href=https://fonts.googleapis.com rel=preconnect><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap" rel=stylesheet><link href="https://fonts.googleapis.com/css2?family=PT+Sans:wght@400;700&display=swap" rel=stylesheet><link href=../assets/prism/prism-okaidia-1.29.0.css rel=stylesheet><link href=../assets/css/global-min.css rel=stylesheet><link href=../assets/css/text-min.css rel=stylesheet><link href=../assets/css/nav-min.css rel=stylesheet><link href=../assets/css/headings-min.css rel=stylesheet><link href=../assets/css/martech-article.css rel=stylesheet><link href=../assets/css/footer-min.css rel=stylesheet><title>MarTech | Adobe Launch Global Clicks or Events Tracking</title><meta content="Todd Croak-Falen" name=Author><meta content="MarTech Adobe Launch Global Clicks or Events Tracking." name=Description><link href=../apple-touch-icon.png rel=apple-touch-icon sizes=180x180><link href=../favicon-32x32.png rel=icon sizes=32x32 type=image/png><link href=../favicon-16x16.png rel=icon sizes=16x16 type=image/png><link href=../manifest.json rel=manifest><link href=../safari-pinned-tab.svg rel=mask-icon color=#5bbad5><link href=../favicon.ico rel="shortcut icon"><meta content=browserconfig.xml name=msapplication-config><meta content=#ffffff name=theme-color><body class="body line-numbers"><div class=body__project-container><nav class=nav><div class="center__1140 nav__flex"><a class="font_size_1 nav__flex_link" href=/ ><div class=nav__flex_text><i class="fas fa-home nav__flex_icon"></i>Home</div></a><a class="font_size_1 nav__flex_link" href=../about-me><div class=nav__flex_text><i class="fas nav__flex_icon fa-user-circle"></i>About Me</div></a></div></nav><main class="content-top main"><header class=header><div class="heading heading_theme_clear"><div class=heading__title-overflow><h1 class="heading__title-tag font_size_4"><span class=heading__title-tag_title>Adobe Launch Global Clicks or Events Tracking</span></h1></div></div><div class="martech-header__img martech-header__img_swimming-pool-water-overhead"></div></header><section><div class="heading heading_theme_black"><div class=heading__title-overflow><h2 class="heading__title-tag font_size_3"><span class=heading__title-tag_title>Overview</span></h2></div></div><div class="content__center content__center_700"><div class=content__block><p class="font_size_body main__text">At my company, there is a core set of tracking events and variables we send to Adobe Analytics for all events.<p class="font_size_body main__text">For the purposes of this explanation, let’s say I work at a solar power company. (All variables and attributes in this article have been changed to suit that scenario.) To keep things D.R.Y., this core set of variables is programmed into one Adobe Launch rule named <code class=code__name>Global | Set Variables | Clicks or Events #25</code>, which fires on every event we want to track.<p class="font_size_body main__text">In addition to those baseline variables, if that event is a click, we also send:<ul class="font_size_body main__list"><li class=content__block_li><p class="font_size_body main__text">event1: Custom Link Click (increment)<li class=content__block_li><p class="font_size_body main__text">eVar1: Custom Link Value (describes which element was clicked)<li class=content__block_li><p class="font_size_body main__text">prop1: Custom Link Value (same value as eVar1)</ul></div></div><div class="heading heading_theme_clear"><div class=heading__title-overflow><h3 class="heading__title-tag font_size_2"><span class=heading__title-tag_title>Basic Custom Link Values</span></h3></div></div><div class="content__center content__center_700"><div class=content__block><p class="font_size_body main__text">The Custom Link Value that gets passed into eVar1 and prop1 is typically a concatenation of two data attributes, which I put into each element we want to track clicks on:<ul class="font_size_body main__list"><li class=content__block_li><p class="font_size_body main__text">data-track-noun (represents “what” is being clicked)<li class=content__block_li><p class="font_size_body main__text">data-track-verb (represents the “action” the user is taking)</ul><p class="font_size_body main__text">These two values get concatenated, colon-delimited, and assigned to eVar1 and prop1. For example, if my site had a “Careers” card containing a “Learn More” button, that button would contain:<ul class="font_size_body main__list"><li class=content__block_li><p class="font_size_body main__text">data-track-noun="careers"<li class=content__block_li><p class="font_size_body main__text">data-track-verb="learn-more"</ul><p class="font_size_body main__text">(We standardize these values to lowercase kebab-case.) The resulting value passed in eVar1 and prop1 would be <code class=code__snippet>careers:learn-more</code>.</div></div><div class="heading heading_theme_clear"><div class=heading__title-overflow><h3 class="heading__title-tag font_size_2"><span class=heading__title-tag_title>Accordion ‘Open’ vs. ‘Close’</span></h3></div></div><div class="content__center content__center_700"><div class=content__block><p class="font_size_body main__text">Sometimes it gets more complex than this. Maybe there is an FAQ page containing a list of questions. Each question is an accordion that can be opened or closed by clicking on it, and our analysts want to know which is occurring.<p class="font_size_body main__text">In this case, I would append a value of ‘open’ or ‘close’ to eVar1 and prop1:<ul class="font_size_body main__list"><li class=content__block_li><p class="font_size_body main__text">faq:who-installs-your-panels:open<li class=content__block_li><p class="font_size_body main__text">faq:who-installs-your-panels:close</ul><p class="font_size_body main__text">This, too, requires custom logic to only append such a value if the situation calls for it.</div></div><div class="heading heading_theme_clear"><div class=heading__title-overflow><h3 class="heading__title-tag font_size_2"><span class=heading__title-tag_title>Nested AEM Components</span></h3></div></div><div class="content__center content__center_700"><div class=content__block><p class="font_size_body main__text">Even more complex is if the page has AEM components nested inside each other in any order and any combination you might imagine. (See my article on Adobe Launch Nested AEM Component Click Tracking for details.)<p class="font_size_body main__text">For example, the Careers page has three sections:<ol class="font_size_body main__list"><li class=content__block_li><p class="font_size_body main__text">Employment<li class=content__block_li><p class="font_size_body main__text">Apprenticeships<li class=content__block_li><p class="font_size_body main__text">Internships</ol><p class="font_size_body main__text">Within each of these sections there is a set of cards, each representing a category. For example, the “Employment” section contains these cards:<ul class="font_size_body main__list"><li class=content__block_li><p class="font_size_body main__text">Administration<li class=content__block_li><p class="font_size_body main__text">Research & Development<li class=content__block_li><p class="font_size_body main__text">Sales<li class=content__block_li><p class="font_size_body main__text">Installation & Repair<li class=content__block_li><p class="font_size_body main__text">Support</ul><p class="font_size_body main__text">And each card contains two buttons:<ul class="font_size_body main__list"><li class=content__block_li><p class="font_size_body main__text">Learn More<li class=content__block_li><p class="font_size_body main__text">View Jobs</ul><p class="font_size_body main__text">If a user clicks a “Learn More” button and all I pass is <code class=code__name>learn-more</code>, that won’t tell our analysts much about which careers are getting the most clicks. Instead, they want values like:<ul class="font_size_body main__list"><li class=content__block_li><p class="font_size_body main__text">employment:research-development:learn-more<li class=content__block_li><p class="font_size_body main__text">employment:installation-repair:view-jobs<li class=content__block_li><p class="font_size_body main__text">employment:administration:learn-more</ul><p class="font_size_body main__text">This requires more than just the standard two <code class=code__name>data-track-noun</code> and <code class=code__name>data-track-verb</code> attributes. In cases like this, the elements will have:<ul class="font_size_body main__list"><li class=content__block_li><p class="font_size_body main__text">data-track-component-level-1="employment"<li class=content__block_li><p class="font_size_body main__text">data-track-noun="research-development"<li class=content__block_li><p class="font_size_body main__text">data-track-verb="learn-more"</ul><p class="font_size_body main__text">And the three of those need to get concatenated, in the right order, and only if they exist. In addition, there could be multiple levels of parent components. There could be <code class=code__name>data-track-component-level-1</code>, <code class=code__name>2</code>, <code class=code__name>3</code>, etc. So even more custom logic is required to account for those use cases.</div></div><div class="heading heading_theme_clear"><div class=heading__title-overflow><h3 class="heading__title-tag font_size_2"><span class=heading__title-tag_title>Shadow DOM Clicks</span></h3></div></div><div class="content__center content__center_700"><div class=content__block><p class="font_size_body main__text">All of the above needs to work the same way if a user clicks an element inside a shadow DOM. (For example, our global header and footer are each inside a shadow DOM.)<p class="font_size_body main__text">As of this writing, Adobe Launch does not detect clicks in shadow DOMs, so I have to simulate those by passing the clicked element into this rule via direct call object. (See my article on <a class="link link_theme_black" href=adobe-launch-shadow-dom-click-tracking>Adobe Launch Shadow DOM Click Tracking</a> for how this is accomplished.)<p class="font_size_body main__text">So, this <code class=code__name>Global | Set Variables | Clicks or Events #25</code> rule needs to be able to take in that object, treat it as if it were a regular clicked element, and then account for all the same use cases listed above.</div></div><div class="heading heading_theme_clear"><div class=heading__title-overflow><h3 class="heading__title-tag font_size_2"><span class=heading__title-tag_title>Direct Call Objects</span></h3></div></div><div class="content__center content__center_700"><div class=content__block><p class="font_size_body main__text">There are some additional use cases for things like adding items to a cart, or updating their quantities, which are handled via direct call. These direct calls often pass an object containing only the custom data that is needed. So in these cases, this rule needs to know how to parse that custom data and standardize it into the Custom Link Value we would normally pass.</div></div><div class="heading heading_theme_clear"><div class=heading__title-overflow><h3 class="heading__title-tag font_size_2"><span class=heading__title-tag_title>Sending and Clearing the Variables</span></h3></div></div><div class="content__center content__center_700"><div class=content__block><p class="font_size_body main__text">One last architectural note before I move on to the syntax of the custom code itself. This <code class=code__name>Global | Set Variables | Clicks or Events #25</code> rule <em>sets</em> the variables, but it does not <em>send and clear</em> them. That function is handled by a separate rule called <code class=code__name>Global | Send, Clear Variables | Clicks or Events #100</code> rule.<p class="font_size_body main__text">The <code class=code__name>#25</code> and the <code class=code__name>#100</code> at the end of each rule’s name represents the “order” each one is programmed to fire in. This ensures that the <code class=code__name>#25</code> rule fires first, and the <code class=code__name>#100</code> rule fires second. This also allows us to fire additional custom click tracking rules in between order <code class=code__name>#25</code> and order <code class=code__name>#100</code> so that we can roll some additional data into certain clicks if we want to and include it in the same network call.<p class="font_size_body main__text">This means that both rules need to trigger on all the exact same events in order to stay in sync — with one difference:<ul class="font_size_body main__list"><li class=content__block_li><p class="font_size_body main__text">Both rules listen for clicks on anchor tags.<li class=content__block_li><p class="font_size_body main__text">Both rules listen for clicks on buttons.<li class=content__block_li><p class="font_size_body main__text">The “Set Variables #25” listens for the <code class=code__snippet>set-global-click-or-event-variables</code> direct call.<li class=content__block_li><p class="font_size_body main__text">The “Send, Clear Variables #100” listens for the <code class=code__snippet>send-global-click-or-event-beacon</code> direct call.</ul></div></div></section><section><div class="heading heading_theme_black"><div class=heading__title-overflow><h2 class="heading__title-tag font_size_3"><span class=heading__title-tag_title>Syntax for Custom Link Values</span></h2></div></div><div class="content__center content__center_700"><div class=content__block><p class="font_size_body main__text">For context, here is the full custom code block. (Scroll past it for a step-by-step explanation of each part.)<pre class=code__block><code class=language-javascript>let ruleTriggerType = event.$type.replace('core.', '');
let clickedElement = '';
let clickedElementAttributes = '';
let clickAttributes = {};
let accordionStatus = '';
const customLinkValues = [];

// The following are used if data-track-verb is missing:
let childNodes = '';
let className = '';
let imgTag = '';
let name = '';
let parentNode = '';

// Helper Functions
function cleanText(_txt) {
  if (!_txt) return;

  let clean = _txt.trim();
  if (!clean) return;

  let removeStr;
  const startPos = (clean.indexOf('<sup>') || clean.indexOf('<sub>'));
  const endPos = (clean.indexOf('</sup>') || clean.indexOf('')) - startPos + 6;

  if (startPos > -1) {
    removeStr = clean.substr(startPos, endPos);
    clean = clean.split(removeStr).join('');
  }

  clean = clean.replace(/[^a-z\d\s]+/gi, ' ');
  clean = clean.trim();
  clean = clean.replace(/\s{2,}/g, ' ');
  clean = clean.split(' ').join('-').toLowerCase();
  var whSpace = /\s/;
  clean = clean.replace(whSpace, '-');
  return clean;
}

const getLinkName = (_element) => {
  const navName = _element.getAttribute('data-nav-name') || '';
  const navText = _element.getAttribute('data-us-text') || '';
  const navTitle = _element.getAttribute('title') || '';
  const navTitle2 = _element.getAttribute('data-us-title') || '';
  const altTag = _element.getAttribute('alt') || '';
  let elementText = '';

  if (_element.hasAttribute('aria-label')) {
    elementText = _element.getAttribute('aria-label');
  } else {
    elementText = _element.textContent;
  }

  if (altTag === '' || !elementText) {
    if (!elementText) {
      elementText = $(_element).clone().children().remove().end().text() || '';
      if (_element.nextElementSibling) {
        if (_element.nextElementSibling.firstElementChild) {
          elementText = _element.nextElementSibling.firstElementChild.textContent || '';
        }
      }
    }
  }

  let linkName = elementText || navName || navText || altTag || navTitle || navTitle2 || '';
  return linkName;
}

// Initial Standardization for Clicks, Direct Calls, and Shadow DOM Clicks:
switch (ruleTriggerType) {
  case 'click':
  case 'change':
    clickedElement = this;
    s.events = s.apl(s.events, 'event1', ',');
    break;
  case 'direct-call':
    if (!!event && !!event.detail) {
      if (!!event.detail.clickedElement) {
        clickedElement = event.detail.clickedElement;
      }
      if (!!event.detail.shadowClick) {
        ruleTriggerType = 'shadowClick';
        s.events = s.apl(s.events, 'event1', ',');
      }
    }
    break;
}

if (!!clickedElement && !!clickedElement.attributes) {
  clickedElementAttributes = [...clickedElement.attributes];
}

if (!!clickedElementAttributes) {
  clickedElementAttributes.forEach(clickedElementAttribute => {
    const key = clickedElementAttribute.name;
    const value = clickedElementAttribute.value;
    clickAttributes[key] = value;
  });
}

// Post-Standardization Logic:
switch (ruleTriggerType) {
  case 'click':
  case 'shadowClick':
    if (!clickAttributes['data-track-verb']) {
      // If data-track-verb is missing:
      name = 'na';
      className = (clickAttributes.class) ? clickAttributes.class : '';
      childNodes = clickedElement.childNodes;
      parentNode = clickedElement.parentNode;
      imgTag = clickedElement.querySelector('img');

      if (imgTag) name = getLinkName(imgTag) || name;
      if (name === 'na') name = getLinkName(clickedElement) || name;

      if (
        (
          !!className &&
          typeof className === 'string'
        ) &&
        parentNode.parentNode.dataset.track === 'accordion-section'
      ) {
        name = parentNode.parentNode.getAttribute('data-track-verb');
        accordionStatus = clickedElement.getAttribute('aria-expanded') === 'true' ? 'close' : 'open';
      }
      clickAttributes['data-track-verb'] = name;
    }
    break;
  case 'direct-call':
    if (!!event && !!event.detail && !event.detail.clickedElement) {
      if (!!event.detail.trackNoun) {
        clickAttributes['data-track-noun'] = event.detail.trackNoun;
      }
      if (!!event.detail.trackVerb) {
        clickAttributes['data-track-verb'] = event.detail.trackVerb;
      }
    }
    break;
}

// Final cleanup before concatenation occurs:
for (const property in clickAttributes) {
  if (property.includes('data-track')) {
    clickAttributes[property] = cleanText(clickAttributes[property]);
  }
}

// Stage the custom link values in the order they will be concatenated:
let level = 1;
let dataTrackComponentLevelX = '';
do {
  dataTrackComponentLevelX = clickAttributes[`data-track-component-level-${level}`];
  if (!!dataTrackComponentLevelX) {
    customLinkValues.push(dataTrackComponentLevelX);
  }
  level++;
} while (!!clickAttributes[`data-track-component-level-${level}`]);

if (!!clickAttributes['data-track-noun']) {
  customLinkValues.push(clickAttributes['data-track-noun']);
}

if (!!clickAttributes['data-track-verb']) {
  customLinkValues.push(clickAttributes['data-track-verb']);
}

if (!!accordionStatus) {
  customLinkValues.push(accordionStatus); // 'open' vs. 'close'
}

// Then cap each one at 60 characters so we don't go over Adobe's 255-character limit when concatenated:
const cappedLinkValues = customLinkValues.map(customLinkValue => {
  if (customLinkValue.length > 60) {
    customLinkValue = customLinkValue.slice(0, 60);
  }
  return customLinkValue;
});

// Then join the capped link values with colons:
const customLinkValuesConcat = cappedLinkValues.join(':');

s.eVar1 = s.prop1 = customLinkValuesConcat;
s.linkTrackVars = s.apl(s.linkTrackVars, 'eVar1,prop1,events', ',');
s.linkTrackEvents = s.events;</code></pre></div></div><div class="heading heading_theme_clear"><div class=heading__title-overflow><h3 class="heading__title-tag font_size_2"><span class=heading__title-tag_title>Explanation</span></h3></div></div><div class="content__center content__center_700"><div class=content__block><ul class="font_size_body main__list"><li class=content__block_li><p class="font_size_body main__text">Line 1: I want to know which type of event triggered the rule. The event could be a click, a shadow DOM click, a direct call, a ‘change’, etc. This will be used as a starting point to standardize the data coming in. I also strip out the <code class=code__snippet>core.</code> that is always going to be present. (Note that <code class=code__snippet>let</code> is used instead of <code class=code__snippet>const</code> because there will be some manipulation of this value if the event was a shadow DOM click. More on that later.)<li class=content__block_li><p class="font_size_body main__text">Lines 2 - 6: I declare a set of empty variables where certain data will be stored, if certain conditions are later met:<ul class="font_size_body main__list"><li class=content__block_li><p class="font_size_body main__text">Line 2: For the clicked element (regular or simulated) itself.<li class=content__block_li><p class="font_size_body main__text">Line 3: Will become an array where <em>all</em> the attributes of the clicked element will be stored.<li class=content__block_li><p class="font_size_body main__text">Line 4: For the key/value pairs for each attribute after they are converted from the above array.<li class=content__block_li><p class="font_size_body main__text">Line 5: For the ‘open’ or ‘close’ value on an accordion click.<li class=content__block_li><p class="font_size_body main__text">Line 6: At the end, I will push just the values the anaylists want to track, in the order they want to track them, into this array.</ul><li class=content__block_li><p class="font_size_body main__text">Lines 9 - 13: Declare variables that will be used if the <code class=code__snippet>data-track-verb</code> attribute is missing from the clicked element.<li class=content__block_li><p class="font_size_body main__text">Lines 16 - 38: <code class=code__snippet>cleanText</code> is a helper function that standardizes text to lowercase kebab-case.<li class=content__block_li><p class="font_size_body main__text">Lines 40 - 67: <code class=code__snippet>getLinkName</code> is a helper function that contains fallbacks for getting a click tracking value from other places in the element if the normal <code class=code__snippet>data-track</code> attributes are missing.<li class=content__block_li><p class="font_size_body main__text">Lines 70 - 88: Next, I determine what I want to consider the clicked element to be:<ul class="font_size_body main__list"><li class=content__block_li><p class="font_size_body main__text">Line 73: If the rule was triggered by a ‘click’ or a ‘change’, the clicked element will be the ‘this’ keyword.<li class=content__block_li><p class="font_size_body main__text">Line 74: Since I know this use case means that it should be tracked as a click, I go ahead and increment <code class=code__snippet>event1</code> now.<li class=content__block_li><p class="font_size_body main__text">Lines 78 - 80: If the rule was triggered by a direct call, it may have received an object along with it that I want to treat as the clicked element.<li class=content__block_li><p class="font_size_body main__text">Line 82: If the rule was triggered by a shadow DOM click, I reassign its <code class=code__snippet>ruleTriggerType</code> value to <code class=code__snippet>shadowClick</code> so that I can differentiate between the two in my logic later.<li class=content__block_li><p class="font_size_body main__text">Line 83: And if this event <em>was</em> a shadow DOM click, I can also go ahead and increment <code class=code__snippet>event1</code> now.</ul><li class=content__block_li><p class="font_size_body main__text">Lines 89 - 91: Now that I’ve determined what I want to use as my clicked element, I can pull the attributes from it and store them in an array. (The validation is necessary because <code class=code__snippet>clickedElement.attributes</code> will not work if a direct call passed a custom object into this rule containing only the specific data that is needed. That use case will be accounted for later.)<li class=content__block_li><p class="font_size_body main__text">Lines 93 - 99: Convert the array of attributes into key/value pairs and store them in the <code class=code__snippet>clickAttributes</code> object. (This is the format that will be used for the rest of the rule.) Once again, validation is necessary in case the object passed into this rule does not contain architecture consistent with that of a clicked element.<li class=content__block_li><p class="font_size_body main__text">Lines 103 - 114: If the event was triggered by either a regular click or a shadow DOM click, and if the clicked element is missing the <code class=code__snippet>data-track-verb</code> attribute, fallback logic is used to source a value from other attributes instead.<li class=content__block_li><p class="font_size_body main__text">Lines 116 - 125: If the clicked element is an accordion, the accordion status is set to either ‘open’ or ‘close’ based on the <code class=code__snippet>aria-expanded</code> attribute.<li class=content__block_li><p class="font_size_body main__text">Line 126: In the end, I store the fallback value in the <code class=code__snippet>clickAttributes</code> object’s <code class=code__snippet>data-track-verb</code> property.<li class=content__block_li><p class="font_size_body main__text">Lines 129 - 138: If the rule was triggered by a direct call with a custom object passed into it, I look specifically for those custom properties here.<li class=content__block_li><p class="font_size_body main__text">Lines 142 - 147: Finally, the <code class=code__snippet>clickAttributes</code> object contains all the key/value pairs it’s going to get. The properties that will ultimately be passed to Adobe Analytics start with <code class=code__snippet>data-track</code>. Those are the only ones I need to convert to lowercase kebab-case. (And I do need to do this in case some of these values were indeed pulled from fallbacks such as link text, alt tags, aria-labels, etc. They could include special characters, spaces, capital letters, and more.)<li class=content__block_li><p class="font_size_body main__text">Lines 149 - 169: Now that all of the tracking values have been standardized to lowercase kebab-case, it is time to stage them in the order that they will be concatenated and passed to Adobe Analytics in eVar1 and prop1. This is done by simply pushing them into an array in the desired order:<ul class="font_size_body main__list"><li class=content__block_li><p class="font_size_body main__text">Lines 149 - 157: That means I stage all the <code class=code__snippet>data-track-component-level-1</code>, <code class=code__snippet>2</code>, <code class=code__snippet>3</code>, etc. values first, and in numerical order. But I have no way of knowing how many there will be, or if there will even be any at all. (This use case will only apply if there are AEM components on the page. See my article on Adobe Launch Nested AEM Component Click Tracking for full details.) Therefore, I use a <code class=code__name>do while</code> loop.<li class=content__block_li><p class="font_size_body main__text">Lines 159 - 161: If there is a <code class=code__snippet>data-track-noun</code> value, I stage that next.<li class=content__block_li><p class="font_size_body main__text">Lines 163 - 165: If there is a <code class=code__snippet>data-track-verb</code> value, I stage that next.<li class=content__block_li><p class="font_size_body main__text">Lines 167 - 169: Lastly, if this was an accordion click, I stage either <code class=code__snippet>open</code> or <code class=code__snippet>close</code>.</ul><li class=content__block_li><p class="font_size_body main__text">Lines 172 - 177: Adobe has a 255-character limit, and my concatenation could potentially get pretty long. (Especially if there are a lot of layers of nested components, or if the text from an anchor tag was used as a fallback.) If the custom link tracking value goes over 255 characters, Adobe will truncate it. I'd rather control how that truncation occurs, so I cap each individual value at 60 characters. (The ballpark estimation is that our site will likely not have more than four layers of nested components — plus perhaps an ‘open’ or ‘close’ appendage at the end if this was an accordion click.)<li class=content__block_li><p class="font_size_body main__text">Line 180: Finally, the actual concatenation is done by joining the items in the array with colons.<li class=content__block_li><p class="font_size_body main__text">Lines 182 - 184: Assign all the values to their respective places in Adobe’s <code class=code__snippet>s</code> object.</ul></div></div></section></main><footer class="footer footer_theme_black"><div class=center__1140><div class=footer__icon-row><div class=footer__icon><a class=footer__icon_link href=/ ><div class=footer__icon_link-content><i class="fas fa-home footer__icon_icon"></i><p class="font_size_body footer__icon_text">Home</div></a></div><div class=footer__icon><a class=footer__icon_link href=https://www.github.com/toddcf target=_blank><div class=footer__icon_link-content><i class="footer__icon_icon fab fa-github"></i><p class="font_size_body footer__icon_text">GitHub</div></a></div><div class=footer__icon><a class=footer__icon_link href=https://www.linkedin.com/in/toddcf target=_blank><div class=footer__icon_link-content><i class="footer__icon_icon fab fa-linkedin"></i><p class="font_size_body footer__icon_text">LinkedIn</div></a></div><div class=footer__icon><a class=footer__icon_link href=resume_todd_croak-falen.pdf target=_blank><div class=footer__icon_link-content><i class="fas footer__icon_icon fa-file-alt"></i><p class="font_size_body footer__icon_text">Résumé<p class="font_size_body footer__icon_text">(PDF with contact info)</div></a></div></div><div class=footer__copyright><p class="font_size_body footer__copyright_text">© Copyright 2016 <span class=currentYear></span>Todd Croak-Falen</div></div></footer></div><script src=https://code.jquery.com/jquery-3.3.1.slim.min.js crossorigin=anonymous integrity=sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo></script><script src=../assets/js/jquery.waypoints.min.js></script><script src=../assets/prism/prism-okaidia-1.29.0.js></script><script src=../assets/js/global.js></script><script src=../assets/js/footer-min.js></script>